doctype
html(lang='nl' ng-app='searchApp')
  head
    meta(charset='utf-8')
    meta(name='viewport', content='width=device-width, initial-scale=1')
    
    link(rel="author" href="/humans.txt")
    
    link(href='http://fonts.googleapis.com/css?family=Open+Sans:400,600,700,900,400italic|Droid+Serif:400,700,400italic' media='screen' rel='stylesheet' type='text/css')
    
    if (development)
      //- link(href='/stylesheets/bootstrap.min.css' rel='stylesheet')
      link(href='/stylesheets/bootstrap-bootswatch.min.css' rel='stylesheet')
      //- link(href='/stylesheets/bootstrap-theme.min.css' rel='stylesheet')

    if (production)
      link(href='/stylesheets/bootstrap-bootswatch.min.css' rel='stylesheet')
      //- link(href='https://maxcdn.bootstrapcdn.com/bootstrap/3.3.4/css/bootstrap.min.css' rel='stylesheet')

    //- My stylesheet
    link(rel='stylesheet', href='/stylesheets/style.css')

    //- HTML5 shim and Respond.js for IE8 support of HTML5 elements and media queries
    //- WARNING: Respond.js doesn't work if you view the page via file://
    <!--[if lt IE 9]>
    script(src='https://oss.maxcdn.com/html5shiv/3.7.2/html5shiv.min.js')
    script(src='https://oss.maxcdn.com/respond/1.4.2/respond.min.js')
    <!-- [endif]-->
    
    //- Title, different for every view
    block title
      
  body
    .container(ng-controller='SearchController as searchResults' ng-init='showLandingPage=false')
      block landingpage
      .showResults(ng-hide='showLandingPage')
        header.row
          .col-xs-2.col-sm-1.col-md-1.col-lg-1
            #logo
              a(href="/")
                img(src='/img/logo-vangilst.png' class='logo' alt='Logo Van Gilst Ãœbersetzungen')
          .col-xs-10.col-sm-9.col-md-7.col-lg-6
            // TODO: degrade gracefully for no Javascript
            // Use the following:
            // form(action='http://www.google.nl' method='get')
            form(ng-submit='searchResults.doSearch()')
              .input-group
                input.form-control(type='search' ng-model='keyword' placeholder=deStr || '', style='overflow: hidden; text-overflow: ellipsis; white-space: nowrap' focus-on='!showLandingPage')
                span.input-group-btn
                  button.btn.btn-primary(type='submit')
                    span.glyphicon.glyphicon-search(aria-hidden='true')
        #results.row
          .col-xs-12.col-sm-10.col-md-8.col-lg-7
            #search-results(ng-show='keyword', ng-cloak)
              // if keyword supplied: show dynamic search results
              include ./includes/searchresults.jade
            #static-results(ng-hide='keyword')
              // without keyword: show static content
              block breadcrumbs
              block results
  
        footer.row
          .col-xs-12.col-sm-10.col-md-8.col-lg-7
            include ./includes/footertext.jade      

    script(src='https://ajax.googleapis.com/ajax/libs/angularjs/1.3.15/angular.min.js')
    script(src='/vendor/angular-route.min.js')
    script(src='/js/search.js')

    if (development)
      script.
        document.write('<script src="http://' + (location.host || 'localhost').split(':')[0] + ':3005/livereload.js?snipver=1"></' + 'script>')
      
    //- activate analytics in production
    if (production)
      script.
        (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
        (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
        m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
        })(window,document,'script','//www.google-analytics.com/analytics.js','ga');
      
        ga('create', 'UA-59478975-1', 'auto');
        ga('send', 'pageview');
